-- data/powerups.lua
-- Defines all possible power-ups and their properties, including linkage to weapon categories and global effects.
-- Rarity: common, uncommon, rare, epic, legendary, extremely_legendary
-- Cost: nil = Level Up menu, number = Shop only

return {
    -- COMMON
    rapid_rhythm = {
        name = "Rapid Rhythm",
        description = "Increase fire-rate of all weapons by 8%",
        rarity = "common",
        cost = 100,
        scope = { type = "global" },
        modifiers = { fire_rate = 1.08 },
    },
    steady_hands = {
        name = "Steady Hands",
        description = "Reduce weapon spread by 10%",
        rarity = "common",
        cost = 100,
        scope = { type = "category", category = "bullet" },
        modifiers = { spread = 0.90 },
    },
    light_alloy = {
        name = "Light Alloy",
        description = "Increase projectile speed by 12%",
        rarity = "common",
        cost = 100,
        scope = { type = "global" },
        modifiers = { projectile_speed = 1.12 },
    },
    power_chord = {
        name = "Power Chord",
        description = "Increase damage by 7%",
        rarity = "common",
        cost = 100,
        scope = { type = "global" },
        modifiers = { damage = 1.07 },
    },
    quick_loader = {
        name = "Quick Loader",
        description = "Reduce reload time by 10%",
        rarity = "uncommon",
        cost = 200,
        scope = { type = "category", category = "reload" },
        modifiers = { reload_time = 0.90 },
    },
    cash_magnet = {
        name = "Cash Magnet",
        description = "Increase cash pickup value by 15%",
        rarity = "uncommon",
        cost = 200,
        scope = { type = "global" },
        modifiers = { cash_value = 1.15 },
    },
    groove_shield = {
        name = "Groove Shield",
        description = "On-beat kill grants 1s invulnerability",
        rarity = "uncommon",
        cost = 200,
        scope = { type = "triggered", trigger = "on_beat_kill" },
        modifiers = { invuln_time = 1.0 },
    },
    critical_edge = {
        name = "Critical Edge",
        description = "Increase crit chance by 5%",
        rarity = "uncommon",
        cost = 200,
        scope = { type = "global" },
        modifiers = { crit_chance = 0.05 },
    },
    heavy_hitter = {
        name = "Heavy Hitter",
        description = "Increase damage by 18%",
        rarity = "rare",
        cost = 350,
        scope = { type = "category", category = "cross" },
        modifiers = { damage = 1.18 },
    },
    overpenetration = {
        name = "Overpenetration",
        description = "Projectiles pierce +1 enemy",
        rarity = "rare",
        cost = 350,
        scope = { type = "global" },
        modifiers = { pierce = 1 },
    },
    energised_core = {
        name = "Energised Core",
        description = "Increase max ammo by 20%",
        rarity = "rare",
        cost = 350,
        scope = { type = "global" },
        modifiers = { max_ammo = 1.20 },
    },
    beat_burst = {
        name = "Beat Burst",
        description = "Every 5 kills, gain +20% fire-rate for 2s",
        rarity = "rare",
        cost = 350,
        scope = { type = "triggered", trigger = "on_kill_streak", streak = 5 },
        modifiers = { fire_rate = 1.20, duration = 2.0 },
    },
    ricochet_groove = {
        name = "Ricochet Groove",
        description = "25% chance shots bounce once",
        rarity = "epic",
        cost = 500,
        scope = { type = "category", category = {"bullet", "cross"} },
        modifiers = { ricochet_chance = 0.25, ricochet_bounces = 1 },
    },
    frost_shot = {
        name = "Frost Shot",
        description = "Shots slow enemies by 25% for 2s",
        rarity = "epic",
        cost = 500,
        scope = { type = "global" },
        modifiers = { slow = 0.25, slow_duration = 2.0 },
    },
    chain_lightning = {
        name = "Chain Lightning",
        description = "10% chance shots arc to 1 extra target",
        rarity = "epic",
        cost = 500,
        scope = { type = "global" },
        modifiers = { chain_chance = 0.10, chain_targets = 1 },
    },
    shockwave_impact = {
        name = "Shockwave Impact",
        description = "Kills create a small AoE explosion",
        rarity = "epic",
        cost = 500,
        scope = { type = "global" },
        modifiers = { aoe_explosion = true, aoe_radius = 32, aoe_damage = 0.5 },
    },
    vampiric_rounds = {
        name = "Vampiric Rounds",
        description = "Heal 1 HP per 100 damage dealt",
        rarity = "legendary",
        cost = 750,
        scope = { type = "global" },
        modifiers = { vampirism = 100 },
    },
    eternal_ammo = {
        name = "Eternal Ammo",
        description = "5% of shots cost no ammo =",
        rarity = "legendary",
        cost = 750,
        scope = { type = "global" },
        modifiers = { free_ammo_chance = 0.05 },
    },
    groove_overdrive = {
        name = "Groove Overdrive",
        description = "+25% fire-rate, -10% accuracy",
        rarity = "legendary",
        cost = 750,
        scope = { type = "global" },
        modifiers = { fire_rate = 1.25, spread = 1.10 },
    },
    ultimate_upgrade = {
        name = "Ultimate Upgrade",
        description = "Increases all stats of all weapons by 1",
        rarity = "extremely_legendary",
        cost = 999,
        scope = { type = "global" },
        modifiers = { weapon_level_up = 1 },
        shop_only = true,
    },
}
